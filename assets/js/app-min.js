const proyecto=(()=>{let e=document.querySelector(".formulario__campo__select"),t=document.querySelector(".btn__a\xf1adir"),a=document.createElement("input"),c=document.querySelector(".cotizar__calculo__calcular"),l=document.querySelector(".cotizar__calculo__campos"),r=document.querySelector(".cotizar__calculo__total"),o=[{nombre:"Az\xfacar",precio:1e3},{nombre:"Luz",precio:200},{nombre:"Pan",precio:300},{nombre:"Maizena",precio:400},{nombre:"Bolsas",precio:500},{nombre:"Gas",precio:600},{nombre:"Crema",precio:700},],i=!1,n=document.createElement("p");n.classList.add("cotizar__calculo__total__texto"),r.appendChild(n);let u=document.createElement("p");u.classList.add("cotizar__calculo__ganancias__texto"),r.appendChild(u);for(let s=0;s<o.length;s++){let p=document.createElement("option");p.setAttribute("value",s+1),p.innerText=o[s].nombre,e.append(p)}let d=e=>{let t=document.querySelectorAll(".cotizar__calculo input"),a=!1;return t.forEach(t=>{t.getAttribute("id")===e&&(a=!0)}),a},m=(e,t)=>{let a=document.createElement("div"),c=document.createElement("label"),r=document.createElement("input"),o=t+1;a.classList.add("cotizar__calculo__campo"),l.append(a),c.setAttribute("for",`ingrediente${o}`),c.classList.add("cotizar__calculo__campo__label"),c.textContent=`${e} : `,r.placeholder="Ingrese la cantidad",r.setAttribute("type","number"),r.setAttribute("min",0),r.setAttribute("id",`ingrediente${o}`),r.classList.add("cotizar__calculo__campo__input"),a.append(c,r)},b=()=>{i||(a.setAttribute("type","submit"),a.setAttribute("value","Calcular"),a.setAttribute("id","calcular"),a.classList.add("btn","btn__calcular"),c.append(a))},$=e=>{if(e<=0){alert("Ponga digitos mayores a 0");return}let t=`Cotizaci\xf3n: <span class="cotizar__calculo__span" >${e}</span>`;n.innerHTML=t;let a=.3*e,c=`Ganancias: <span class="cotizar__calculo__span" >${a}</span>`;u.innerHTML=c};t.addEventListener("click",function(t){t.preventDefault();let a=1*e.value,c=a-1,l=o[c].nombre,r=`ingrediente${c+1}`;if(""===a)alert("Seleccione un material");else{if(!d(r))return m(l,c),b(),i=!0;alert("Elemento Repetido")}}),a.addEventListener("click",function(e){e.preventDefault();let t=document.querySelectorAll(".cotizar__calculo .cotizar__calculo__campo__input"),a=[],c=0;for(let l=0;l<t.length;l++){let r=1*t[l].value,i=t[l].getAttribute("id"),n=parseInt(i.match(/\d+/)[0])-1;"Az\xfacar"===o[n].nombre?a.push(r/100*o[n].precio):a.push(r*o[n].precio),c+=a[l]}$(c)})})();